# Union Dashboard Expenditure Table Generator
The python scripts in this folder are used to generate the table that is displayed at the bottom of union budget expenditure page `https://union.openbudgetsindia.org/en/expenditure/`

There are two scripts that need to be run in this order `csv_consolidation.py -> csv_generator.csv`

## Notes
- Raw expenditure files downloaded from the budget website are required for these scripts. These files are usually named `sbe1.xls`, `sbe2.xls` ... up till 100 something in sequence and need to be placed in `expenditure_data` folder
- The output file generated is a csv with cumilative data of these files and is uploaded on OpenBudgetsIndia CKAN
- Before running the `csv_generator.py` make sure the csv's generated by `csv_consolidation.py` in the `expenditure_data_output` folder adhere to the following:
    - Make sure type column has atleast 1 value, if there's nothing in the column just add `...` in the first cell after the header cell
    - Make sure all rows data is aligned, what happens in some rows is that data get offsetted by 1 - 3 cells which needs to corrected manually *(This happens because the raw files have empty cells in an uneven sequence and this can be automated)*
    - Remove gross and recoveries column in the final file for all years